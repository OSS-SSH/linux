# SPDX-License-Identifier: GPL-2.0-only
config VFIO_PLATFORM
	tristate "VFIO support for platform devices"
<<<<<<< HEAD
	depends on ARM || ARM64 || COMPILE_TEST
=======
	depends on VFIO && EVENTFD && (ARM || ARM64 || COMPILE_TEST)
>>>>>>> d5cf6b5674f37a44bbece21e8ef09dbcf9515554
	select VFIO_VIRQFD
	help
	  Support for platform devices with VFIO. This is required to make
	  use of platform devices present on the system using the VFIO
	  framework.

	  If you don't know what to do here, say N.

<<<<<<< HEAD
if VFIO_PLATFORM
config VFIO_AMBA
	tristate "VFIO support for AMBA devices"
	depends on ARM_AMBA || COMPILE_TEST
=======
config VFIO_AMBA
	tristate "VFIO support for AMBA devices"
	depends on VFIO_PLATFORM && (ARM_AMBA || COMPILE_TEST)
>>>>>>> d5cf6b5674f37a44bbece21e8ef09dbcf9515554
	help
	  Support for ARM AMBA devices with VFIO. This is required to make
	  use of ARM AMBA devices present on the system using the VFIO
	  framework.

	  If you don't know what to do here, say N.

source "drivers/vfio/platform/reset/Kconfig"
<<<<<<< HEAD
endif
=======
>>>>>>> d5cf6b5674f37a44bbece21e8ef09dbcf9515554
